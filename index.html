<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infinite Roguelike Shooter</title>
    <link rel="stylesheet" href="style.css?v=6">
</head>
<body>
    <div class="game-container">
        <canvas id="gameCanvas"></canvas>
        
        <div class="ui-container">
            <div class="top-left">
                <div class="stat-display">
                    <div class="stat-item">Health: <span id="health">100</span>/<span id="maxHealth">100</span></div>
                    <div class="stat-item">Wave: <span id="wave">1</span></div>
                    <div class="stat-item">Level: <span id="level">1</span></div>
                    <div class="stat-item">XP: <span id="currentXp">0</span>/<span id="maxXp">100</span></div>
                    <div class="stat-item">Enemies: <span id="enemyCount">0</span></div>
                    <div class="stat-item">Gold: <span id="gold">0</span></div>
                </div>
            </div>
            
            <div class="top-right">
                <div class="stats-display">
                    <h3>Stats</h3>
                    <div class="stat-item">Attack Speed: <span id="attackSpeed">1.0</span></div>
                    <div class="stat-item">Projectile Speed: <span id="projSpeed">500</span></div>
                    <div class="stat-item">Size: <span id="sizeDisplay">15</span>px</div>
                    <div class="stat-item">Damage: <span id="damage">10</span></div>
                </div>
            </div>
            
            <div class="bottom-left">
                <button id="upgradeBtn" class="upgrade-btn">Shop (Press U)</button>
            </div>
            
            <div class="bottom-center">
                <div class="instructions">
                    <p>Arrow Keys or WASD: Move</p>
                    <p>Mouse: Aim</p>
                    <p>Click: Shoot</p>
                    <p>U: Open Shop</p>
                </div>
            </div>
            <div class="bottom-right">
                <div class="priority-dropdown" id="priorityPanel">
                    <button id="priorityToggle" class="priority-toggle" aria-haspopup="true" aria-expanded="false">Target Priority: <span id="prioritySummary">assassin &gt; sniper &gt; tank</span></button>
                    <div id="priorityDropdown" class="priority-dropdown-menu hidden" role="menu" aria-labelledby="priorityToggle">
                        <!-- Items populated by game.js. Left-click to increase priority, right-click to decrease. -->
                    </div>
                </div>
            </div>
        </div>
        
        <div id="upgradeMenu" class="upgrade-menu">
            <div class="upgrade-content">
                <h2>Upgrade Shop</h2>
                <p class="gold-display">Gold: <span id="shopGold">0</span></p>
                
                <div class="upgrades-grid">
                    <div class="upgrade-item">
                        <h3>Attack Speed</h3>
                        <p>Cost: <span class="cost">50</span></p>
                        <p class="upgrade-desc">Current: <span id="upgradeAttackSpeed">1.0</span></p>
                        <button class="upgrade-purchase-btn" data-upgrade="attackSpeed">Upgrade</button>
                    </div>
                    
                    <div class="upgrade-item">
                        <h3>Projectile Speed</h3>
                        <p>Cost: <span class="cost">50</span></p>
                        <p class="upgrade-desc">Current: <span id="upgradeProjectileSpeed">500</span></p>
                        <button class="upgrade-purchase-btn" data-upgrade="projectileSpeed">Upgrade</button>
                    </div>
                    
                    <!-- Weapon removed: upgrades are passive only -->
                    
                    <div class="upgrade-item">
                        <h3>Damage</h3>
                        <p>Cost: <span class="cost">60</span></p>
                        <p class="upgrade-desc">Current: <span id="upgradeDamage">10</span></p>
                        <button class="upgrade-purchase-btn" data-upgrade="damage">Upgrade</button>
                    </div>
                    
                    <div class="upgrade-item">
                        <h3>Max Health</h3>
                        <p>Cost: <span class="cost">80</span></p>
                        <p class="upgrade-desc">Current: <span id="upgradeMaxHealth">100</span></p>
                        <button class="upgrade-purchase-btn" data-upgrade="maxHealth">Upgrade</button>
                    </div>
                    
                    <div class="upgrade-item">
                        <h3>Projectile Size</h3>
                        <p>Cost: <span class="cost">45</span></p>
                        <p class="upgrade-desc">Current: <span id="upgradeProjectileSize">5</span>px</p>
                        <button class="upgrade-purchase-btn" data-upgrade="projectileSize">Upgrade</button>
                    </div>
                    
                    <div class="upgrade-item">
                        <h3>Earthquake Range</h3>
                        <p>Cost: <span class="cost">70</span></p>
                        <p class="upgrade-desc">Current: <span id="upgradeEarthquakeRange">0</span>px</p>
                        <button class="upgrade-purchase-btn" data-upgrade="earthquakeRange">Upgrade</button>
                    </div>
                    
                    <div class="upgrade-item">
                        <h3>Earthquake Cooldown</h3>
                        <p>Cost: <span class="cost">75</span></p>
                        <p class="upgrade-desc">Current: <span id="upgradeEarthquakeCooldown">0.0</span>s</p>
                        <button class="upgrade-purchase-btn" data-upgrade="earthquakeCooldown">Upgrade</button>
                    </div>
                    
                    <div class="upgrade-item">
                        <h3>Earthquake Strength</h3>
                        <p>Cost: <span class="cost">55</span></p>
                        <p class="upgrade-desc">Current: <span id="upgradeEarthquakeStrength">0</span></p>
                        <button class="upgrade-purchase-btn" data-upgrade="earthquakeStrength">Upgrade</button>
                    </div>
                
                <button id="closeUpgradeBtn" class="close-btn">Close (ESC)</button>
            </div>
        </div>
        
        <div id="gameOverScreen" class="game-over-screen hidden">
            <div class="game-over-content">
                <h1>Game Over</h1>
                <p>Wave: <span id="finalWave">1</span></p>
                <p>Total Gold: <span id="finalGold">0</span></p>
                <button id="restartBtn" class="restart-btn">Restart Game</button>
            </div>
        </div>

        <!-- Level-up modal removed (auto-upgrades + notifications used instead) -->

        <div id="upgradeNotifications" class="upgrade-notifications-container"></div>
    </div>
    
    <script src="game.js?v=6"></script>
</body>
</html>
